<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ƒê·ªÅ Ki·ªÉm Tra Science L·ªõp 8</title>
    <style>
        :root {
            --primary: #4f46e5;
            --primary-hover: #4338ca;
            --bg: #f3f4f6;
            --white: #ffffff;
            --text: #1f2937;
            --border: #e5e7eb;
            --success: #10b981;
            --error: #ef4444;
            --warning: #f59e0b;
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 20px;
            line-height: 1.5;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: var(--white);
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            padding: 30px;
            min-height: 80vh;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid var(--border);
            padding-bottom: 20px;
        }

        h1 {
            color: var(--primary);
            margin: 0 0 10px 0;
            font-size: 2rem;
        }

        .subtitle {
            color: #6b7280;
            font-size: 1.1rem;
        }

        /* MENU GRID */
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .menu-item {
            background: var(--white);
            border: 2px solid var(--border);
            border-radius: 10px;
            padding: 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .menu-item:hover {
            border-color: var(--primary);
            transform: translateY(-3px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .menu-item h3 {
            margin: 0 0 10px 0;
            color: var(--primary);
        }

        .menu-item p {
            margin: 0;
            color: #6b7280;
            font-size: 0.9rem;
        }

        /* SECTIONS */
        .section {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border);
        }

        .question-card {
            background: #f9fafb;
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .q-title {
            font-weight: 700;
            margin-bottom: 15px;
            font-size: 1.05rem;
        }

        /* MULTIPLE CHOICE */
        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option-label {
            display: flex;
            align-items: center;
            padding: 10px;
            background: var(--white);
            border: 1px solid var(--border);
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .option-label:hover {
            background: #eef2ff;
        }

        .option-label input {
            margin-right: 10px;
        }

        /* MATCHING */
        .matching-container {
            display: grid;
            gap: 15px;
        }
        
        .match-row {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 10px;
            align-items: center;
            background: var(--white);
            padding: 15px;
            border: 1px solid var(--border);
            border-radius: 6px;
        }

        @media (max-width: 600px) {
            .match-row {
                grid-template-columns: 1fr;
            }
        }

        /* FILL IN BLANK */
        .fill-blank-line {
            line-height: 2;
            font-size: 1.1rem;
        }
        
        .blank-input {
            border: none;
            border-bottom: 2px solid #9ca3af;
            background: transparent;
            width: 120px;
            text-align: center;
            font-weight: bold;
            color: var(--primary);
            font-size: 1rem;
            margin: 0 5px;
        }

        .blank-input:focus {
            outline: none;
            border-bottom-color: var(--primary);
        }

        /* ESSAY */
        .essay-box {
            background: #ffffff;
            border-left: 4px solid var(--warning);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        /* BUTTONS */
        .btn-group {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            justify-content: center;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
            font-size: 1rem;
        }

        .btn-primary {
            background: var(--primary);
            color: var(--white);
        }

        .btn-primary:hover {
            background: var(--primary-hover);
        }

        .btn-secondary {
            background: #9ca3af;
            color: var(--white);
        }

        .btn-secondary:hover {
            background: #6b7280;
        }

        /* FEEDBACK */
        .feedback {
            margin-top: 15px;
            padding: 10px;
            border-radius: 6px;
            font-weight: 500;
            display: none;
        }

        .feedback.correct {
            background: #d1fae5;
            color: #065f46;
            border: 1px solid #a7f3d0;
            display: block;
        }

        .feedback.wrong {
            background: #fee2e2;
            color: #991b1b;
            border: 1px solid #fecaca;
            display: block;
        }

        .score-display {
            text-align: center;
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 20px;
            display: none;
        }

    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>B√ÄI KI·ªÇM TRA KHOA H·ªåC L·ªöP 8</h1>
        <div class="subtitle">Ch·ªß ƒë·ªÅ: S·ª± h√¥ h·∫•p & T√≠nh ch·∫•t c·ªßa v·∫≠t ch·∫•t</div>
        <div style="margin-top: 10px; font-size: 0.9rem; color: #ef4444;">* H·ªçc sinh ch·ªçn t·ª´ng ph·∫ßn b√™n d∆∞·ªõi ƒë·ªÉ l√†m b√†i *</div>
    </header>

    <!-- MENU SCREEN -->
    <div id="menu" class="menu-grid">
        <div class="menu-item" onclick="showSection('partA')">
            <h3>PH·∫¶N A: TR·∫ÆC NGHI·ªÜM</h3>
            <p>20 c√¢u h·ªèi - Ch·ªçn 1 ƒë√°p √°n ƒë√∫ng</p>
        </div>
        <div class="menu-item" onclick="showSection('partB')">
            <h3>PH·∫¶N B: ƒê√öNG / SAI</h3>
            <p>10 c√¢u h·ªèi - X√°c ƒë·ªãnh m·ªánh ƒë·ªÅ</p>
        </div>
        <div class="menu-item" onclick="showSection('partC')">
            <h3>PH·∫¶N C: N·ªêI C·ªòT</h3>
            <p>Gh√©p c·∫∑p kh√°i ni·ªám & ƒë·ªãnh nghƒ©a</p>
        </div>
        <div class="menu-item" onclick="showSection('partD')">
            <h3>PH·∫¶N D: ƒêI·ªÄN KHUY·∫æT</h3>
            <p>ƒêi·ªÅn t·ª´ c√≤n thi·∫øu v√†o ch·ªó tr·ªëng</p>
        </div>
        <div class="menu-item" onclick="showSection('partE')">
            <h3>PH·∫¶N E: T·ª∞ LU·∫¨N</h3>
            <p>C√¢u h·ªèi v·∫≠n d·ª•ng (L√†m v√†o v·ªü)</p>
        </div>
    </div>

    <!-- PART A -->
    <div id="partA" class="section">
        <div class="section-header">
            <h2>Ph·∫ßn A: Tr·∫Øc Nghi·ªám Kh√°ch Quan</h2>
            <button class="btn btn-secondary" onclick="goHome()">Quay l·∫°i Menu</button>
        </div>
        <div id="scoreA" class="score-display"></div>
        <div id="questionsA"></div>
        <div class="btn-group">
            <button class="btn btn-primary" onclick="submitPartA()">N·ªôp b√†i & Xem ƒëi·ªÉm</button>
        </div>
    </div>

    <!-- PART B -->
    <div id="partB" class="section">
        <div class="section-header">
            <h2>Ph·∫ßn B: ƒê√∫ng / Sai</h2>
            <button class="btn btn-secondary" onclick="goHome()">Quay l·∫°i Menu</button>
        </div>
        <div id="scoreB" class="score-display"></div>
        <div id="questionsB"></div>
        <div class="btn-group">
            <button class="btn btn-primary" onclick="submitPartB()">N·ªôp b√†i & Xem ƒëi·ªÉm</button>
        </div>
    </div>

    <!-- PART C -->
    <div id="partC" class="section">
        <div class="section-header">
            <h2>Ph·∫ßn C: N·ªëi C·ªôt</h2>
            <button class="btn btn-secondary" onclick="goHome()">Quay l·∫°i Menu</button>
        </div>
        <div id="scoreC" class="score-display"></div>
        
        <div class="question-card">
            <div class="q-title">B·∫£ng 1: H·ªá h√¥ h·∫•p v√† M√°u</div>
            <div id="matching1" class="matching-container"></div>
        </div>

        <div class="question-card">
            <div class="q-title">B·∫£ng 2: S·ª± h√≤a tan</div>
            <div id="matching2" class="matching-container"></div>
        </div>

        <div class="btn-group">
            <button class="btn btn-primary" onclick="submitPartC()">N·ªôp b√†i & Xem ƒëi·ªÉm</button>
        </div>
    </div>

    <!-- PART D -->
    <div id="partD" class="section">
        <div class="section-header">
            <h2>Ph·∫ßn D: ƒêi·ªÅn Khuy·∫øt</h2>
            <button class="btn btn-secondary" onclick="goHome()">Quay l·∫°i Menu</button>
        </div>
        <p style="text-align:center; margin-bottom:20px; background:#e0e7ff; padding:10px; border-radius:6px;">
            T·ª´ g·ª£i √Ω: <strong>glucose, khu·∫øch t√°n, nƒÉng l∆∞·ª£ng, b·∫£o to√†n, b√£o h√≤a</strong>
        </p>
        <div id="scoreD" class="score-display"></div>
        <div id="questionsD"></div>
        <div class="btn-group">
            <button class="btn btn-primary" onclick="submitPartD()">N·ªôp b√†i & Xem ƒëi·ªÉm</button>
        </div>
    </div>

    <!-- PART E -->
    <div id="partE" class="section">
        <div class="section-header">
            <h2>Ph·∫ßn E: T·ª± Lu·∫≠n & V·∫≠n D·ª•ng</h2>
            <button class="btn btn-secondary" onclick="goHome()">Quay l·∫°i Menu</button>
        </div>
        <div style="text-align:center; color: #dc2626; font-style: italic; margin-bottom: 20px;">
            L∆∞u √Ω: H·ªçc sinh ƒë·ªçc ƒë·ªÅ b√†i v√† l√†m v√†o v·ªü b√†i t·∫≠p.
        </div>

        <div class="essay-box">
            <div class="q-title">C√¢u 1 (0.5ƒë):</div>
            <p>Gi·∫£i th√≠ch t·∫°i sao khi t·∫≠p th·ªÉ d·ª•c m·∫°nh, nh·ªãp th·ªü c·ªßa ch√∫ng ta l·∫°i tƒÉng l√™n?</p>
            <p><em>(G·ª£i √Ω: Li√™n h·ªá ƒë·∫øn nhu c·∫ßu nƒÉng l∆∞·ª£ng v√† h√¥ h·∫•p t·∫ø b√†o)</em></p>
        </div>

        <div class="essay-box">
            <div class="q-title">C√¢u 2 (0.5ƒë):</div>
            <p>B·∫°n Nam mu·ªën t√°ch c√°c m√†u c√≥ trong m·ªôt lo·∫°i m·ª±c b√∫t d·∫° m√†u ƒëen. Nam ch·∫•m m·ª±c l√™n gi·∫•y l·ªçc v√† nh√∫ng m√©p gi·∫•y v√†o n∆∞·ªõc. Tuy nhi√™n, v·ªát m·ª±c kh√¥ng h·ªÅ di chuy·ªÉn v√† kh√¥ng t√°ch ra ƒë∆∞·ª£c m√†u n√†o.</p>
            <p>a. T·∫°i sao th√≠ nghi·ªám c·ªßa Nam th·∫•t b·∫°i?</p>
            <p>b. Em h√£y ƒë·ªÅ xu·∫•t c√°ch kh·∫Øc ph·ª•c cho Nam.</p>
        </div>

        <div class="essay-box">
            <div class="q-title">C√¢u 3 (1.0ƒë):</div>
            <p>D·ª±a v√†o b·∫£ng ƒë·ªô tan d∆∞·ªõi ƒë√¢y ƒë·ªÉ tr·∫£ l·ªùi c√¢u h·ªèi:</p>
            <table border="1" cellpadding="8" style="border-collapse: collapse; width: 100%; max-width: 400px; margin: 10px 0;">
                <tr style="background: #f3f4f6;"><th>Nhi·ªát ƒë·ªô (¬∞C)</th><th>ƒê·ªô tan c·ªßa ƒë∆∞·ªùng (g/100g n∆∞·ªõc)</th></tr>
                <tr><td style="text-align:center;">20</td><td style="text-align:center;">204</td></tr>
                <tr><td style="text-align:center;">60</td><td style="text-align:center;">287</td></tr>
            </table>
            <p>a. ·ªû 20¬∞C, n·∫øu h√≤a tan 250g ƒë∆∞·ªùng v√†o 100g n∆∞·ªõc th√¨ dung d·ªãch thu ƒë∆∞·ª£c c√≥ b√£o h√≤a kh√¥ng? T·∫°i sao?</p>
            <p>b. N·∫øu ƒëun n√≥ng c·ªëc n∆∞·ªõc ƒë√≥ l√™n 60¬∞C, l∆∞·ª£ng ƒë∆∞·ªùng ch∆∞a tan h·∫øt (n·∫øu c√≥) c√≥ tan ƒë∆∞·ª£c kh√¥ng? T√≠nh l∆∞·ª£ng ƒë∆∞·ªùng t·ªëi ƒëa c√≥ th·ªÉ h√≤a tan th√™m ·ªü 60¬∞C so v·ªõi 20¬∞C trong 100g n∆∞·ªõc.</p>
        </div>
    </div>

</div>

<script>
    // DATA SOURCE
    const dataA = [
        { q: "C·∫•u tr√∫c n√†o gi·ªØ cho kh√≠ qu·∫£n lu√¥n m·ªü?", opts: ["C√°c l·ªõp c∆° d√†y", "C√°c v√≤ng s·ª•n", "X∆∞∆°ng l·ªìng ng·ª±c", "D√¢y thanh √¢m"], ans: 1 },
        { q: "Qu√° tr√¨nh trao ƒë·ªïi kh√≠ di·ªÖn ra t·∫°i ƒë√¢u?", opts: ["Kh√≠ qu·∫£n", "Ph·∫ø qu·∫£n", "Ti·ªÉu ph·∫ø qu·∫£n", "T√∫i kh√≠ (Ph·∫ø nang)"], ans: 3 },
        { q: "ƒê·∫∑c ƒëi·ªÉm n√†o KH√îNG ph·∫£i c·ªßa t√∫i kh√≠?", opts: ["Th√†nh r·∫•t m·ªèng", "Nhi·ªÅu mao m·∫°ch", "Di·ªán t√≠ch l·ªõn", "C√≥ v·ªè c·ª©ng b·∫£o v·ªá"], ans: 3 },
        { q: "Khi h√≠t v√†o, tr·∫°ng th√°i c∆° ho√†nh nh∆∞ th·∫ø n√†o?", opts: ["Co (h·∫° xu·ªëng)", "Gi√£n (n√¢ng l√™n)", "Kh√¥ng ƒë·ªïi", "Rung ƒë·ªông"], ans: 0 },
        { q: "H√¥ h·∫•p hi·∫øu kh√≠ t·∫°o ra s·∫£n ph·∫©m g√¨?", opts: ["Glucose + Oxy", "CO2 + N∆∞·ªõc + NƒÉng l∆∞·ª£ng", "Oxy + N∆∞·ªõc", "Tinh b·ªôt"], ans: 1 },
        { q: "T·∫ø b√†o n√†o v·∫≠n chuy·ªÉn oxygen?", opts: ["B·∫°ch c·∫ßu", "H·ªìng c·∫ßu", "Ti·ªÉu c·∫ßu", "Huy·∫øt t∆∞∆°ng"], ans: 1 },
        { q: "H·ª£p ch·∫•t m√†u ƒë·ªè t∆∞∆°i trong m√°u l√† g√¨?", opts: ["Carboxyhaemoglobin", "Oxyhaemoglobin", "Plasma", "Antibodies"], ans: 1 },
        { q: "B·∫°ch c·∫ßu c√≥ ch·ª©c nƒÉng g√¨?", opts: ["V·∫≠n chuy·ªÉn kh√≠", "ƒê√¥ng m√°u", "B·∫£o v·ªá c∆° th·ªÉ", "T·∫°o nhi·ªát"], ans: 2 },
        { q: "Dung d·ªãch l√† g√¨?", opts: ["H·ªón h·ª£p m·ªù ƒë·ª•c", "H·ªón h·ª£p ƒë·ªìng nh·∫•t, trong su·ªët", "Ch·∫•t r·∫Øn kh√¥ng tan", "Ch·∫•t l·ªèng t√°ch l·ªõp"], ans: 1 },
        { q: "Ch·∫•t l·ªèng h√≤a tan ch·∫•t kh√°c g·ªçi l√† g√¨?", opts: ["Ch·∫•t tan", "Dung d·ªãch", "Dung m√¥i", "K·∫øt t·ªßa"], ans: 2 },
        { q: "ƒê·ªô tan ph·ª• thu·ªôc ch·ªß y·∫øu v√†o y·∫øu t·ªë n√†o?", opts: ["√Åp su·∫•t", "Nhi·ªát ƒë·ªô", "Th·ªÉ t√≠ch b√¨nh ch·ª©a", "M√†u s·∫Øc"], ans: 1 },
        { q: "Dung d·ªãch b√£o h√≤a l√† dung d·ªãch:", opts: ["R·∫•t lo√£ng", "Kh√¥ng th·ªÉ h√≤a tan th√™m ch·∫•t tan", "C√≥ m√†u ƒë·∫≠m", "Ch·ª©a √≠t ch·∫•t tan"], ans: 1 },
        { q: "S·∫Øc k√Ω gi·∫•y d√πng ƒë·ªÉ l√†m g√¨?", opts: ["ƒêo nhi·ªát ƒë·ªô", "T√°ch ch·∫•t m√†u", "L·ªçc n∆∞·ªõc", "ƒêo kh·ªëi l∆∞·ª£ng"], ans: 1 },
        { q: "Kh·ªëi l∆∞·ª£ng ƒë∆∞·ª£c b·∫£o to√†n khi h√≤a tan nghƒ©a l√†:", opts: ["M dd = M ch·∫•t tan + M dung m√¥i", "M dd < M ch·∫•t tan", "M dd > M dung m√¥i", "Kh·ªëi l∆∞·ª£ng gi·∫£m ƒëi"], ans: 0 },
        { q: "T·∫°i sao h·ªìng c·∫ßu kh√¥ng c√≥ nh√¢n?", opts: ["ƒê·ªÉ s·ªëng l√¢u", "ƒê·ªÉ ch·ª©a nhi·ªÅu Haemoglobin", "ƒê·ªÉ t·ª± v·ªá", "ƒê·ªÉ sinh s·∫£n nhanh"], ans: 1 },
        { q: "Ch·∫•t kh√≠ n√†o l√†m ƒë·ª•c n∆∞·ªõc v√¥i trong?", opts: ["Oxy", "Nit∆°", "Carbon dioxide", "Hydro"], ans: 2 },
        { q: "S·ª± khu·∫øch t√°n l√† s·ª± di chuy·ªÉn t·ª´:", opts: ["N∆°i th·∫•p ƒë·∫øn cao", "N∆°i cao ƒë·∫øn th·∫•p", "Ng·∫´u nhi√™n", "Kh√¥ng di chuy·ªÉn"], ans: 1 },
        { q: "Th√†nh ph·∫ßn ch√≠nh c·ªßa huy·∫øt t∆∞∆°ng l√† g√¨?", opts: ["Protein", "N∆∞·ªõc", "Mu·ªëi kho√°ng", "ƒê∆∞·ªùng"], ans: 1 },
        { q: "Khi nhi·ªát ƒë·ªô tƒÉng, ƒë·ªô tan c·ªßa ch·∫•t r·∫Øn th∆∞·ªùng:", opts: ["TƒÉng", "Gi·∫£m", "Kh√¥ng ƒë·ªïi", "Bi·∫øn m·∫•t"], ans: 0 },
        { q: "ƒê∆∞·ªùng trong n∆∞·ªõc ƒë∆∞·ªùng ƒë√≥ng vai tr√≤ l√†:", opts: ["Dung m√¥i", "Dung d·ªãch", "Ch·∫•t tan", "Ch·∫•t x√∫c t√°c"], ans: 2 }
    ];

    const dataB = [
        { q: "Ph·ªïi l√† c∆° quan duy nh·∫•t trong h·ªá h√¥ h·∫•p.", ans: "Sai" },
        { q: "Khi th·ªü ra, th·ªÉ t√≠ch l·ªìng ng·ª±c gi·∫£m xu·ªëng.", ans: "ƒê√∫ng" },
        { q: "H√¥ h·∫•p hi·∫øu kh√≠ di·ªÖn ra ·ªü ti th·ªÉ.", ans: "ƒê√∫ng" },
        { q: "M√°u ƒë·ªông m·∫°ch lu√¥n gi√†u oxy.", ans: "Sai" },
        { q: "N∆∞·ªõc l√† dung m√¥i duy nh·∫•t.", ans: "Sai" },
        { q: "Dung d·ªãch ƒë·∫≠m ƒë·∫∑c ch·ª©a nhi·ªÅu ch·∫•t tan h∆°n dung d·ªãch lo√£ng.", ans: "ƒê√∫ng" },
        { q: "S·ªØa l√† m·ªôt dung d·ªãch.", ans: "Sai" },
        { q: "Ch·∫•t kh√¥ng tan kh√¥ng th·ªÉ h√≤a tan trong dung m√¥i c·ª• th·ªÉ.", ans: "ƒê√∫ng" },
        { q: "Kh√°ng th·ªÉ do h·ªìng c·∫ßu ti·∫øt ra.", ans: "Sai" },
        { q: "ƒê·ªô tan thay ƒë·ªïi theo nhi·ªát ƒë·ªô.", ans: "ƒê√∫ng" }
    ];

    const dataC1 = [
        { left: "Ph·∫ø nang", right: "C√°c t√∫i kh√≠ nh·ªè trao ƒë·ªïi kh√≠", id: "1" },
        { left: "Kh√≠ qu·∫£n", right: "·ªêng d·∫´n kh√≠ c√≥ v√≤ng s·ª•n", id: "2" },
        { left: "C∆° ho√†nh", right: "C∆° v√≤m gi√∫p h√≠t th·ªü", id: "3" },
        { left: "B·∫°ch c·∫ßu", right: "T·∫ø b√†o b·∫£o v·ªá c∆° th·ªÉ", id: "4" }
    ];

    const dataC2 = [
        { left: "Ch·∫•t tan", right: "Ch·∫•t r·∫Øn b·ªã h√≤a tan", id: "1" },
        { left: "Dung m√¥i", right: "Ch·∫•t l·ªèng ƒë·ªÉ h√≤a tan", id: "2" },
        { left: "Dung d·ªãch", right: "H·ªón h·ª£p ƒë·ªìng nh·∫•t", id: "3" },
        { left: "S·∫Øc k√Ω ƒë·ªì", right: "K·∫øt qu·∫£ t√°ch m√†u tr√™n gi·∫•y", id: "4" }
    ];

    const dataD = [
        { pre: "1. H√¥ h·∫•p t·∫ø b√†o d√πng kh√≠ oxy ƒë·ªÉ ph√¢n gi·∫£i", ans: "glucose", post: "th√†nh nƒÉng l∆∞·ª£ng." },
        { pre: "2. Kh√≠ oxy di chuy·ªÉn t·ª´ ph·∫ø nang v√†o m√°u nh·ªù qu√° tr√¨nh", ans: "khu·∫øch t√°n", post: "." },
        { pre: "3. Trong ph·∫£n ·ª©ng h√≤a tan, kh·ªëi l∆∞·ª£ng lu√¥n ƒë∆∞·ª£c", ans: "b·∫£o to√†n", post: "." },
        { pre: "4. Dung d·ªãch kh√¥ng th·ªÉ h√≤a tan th√™m ch·∫•t tan g·ªçi l√†", ans: "b√£o h√≤a", post: "." }
    ];

    // INIT
    window.onload = function() {
        renderPartA();
        renderPartB();
        renderPartC();
        renderPartD();
    };

    function goHome() {
        document.querySelectorAll('.section').forEach(el => el.classList.remove('active'));
        document.getElementById('menu').style.display = 'grid';
    }

    function showSection(id) {
        document.getElementById('menu').style.display = 'none';
        document.querySelectorAll('.section').forEach(el => el.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        window.scrollTo(0,0);
    }

    // RENDER A
    function renderPartA() {
        const container = document.getElementById('questionsA');
        let html = '';
        dataA.forEach((item, idx) => {
            let optsHtml = '';
            item.opts.forEach((opt, i) => {
                optsHtml += `
                    <label class="option-label">
                        <input type="radio" name="qA${idx}" value="${i}">
                        ${String.fromCharCode(65+i)}. ${opt}
                    </label>
                `;
            });
            html += `
                <div class="question-card">
                    <div class="q-title">C√¢u ${idx+1}: ${item.q}</div>
                    <div class="options">${optsHtml}</div>
                    <div id="fbA${idx}" class="feedback"></div>
                </div>
            `;
        });
        container.innerHTML = html;
    }

    function submitPartA() {
        let score = 0;
        dataA.forEach((item, idx) => {
            const selected = document.querySelector(`input[name="qA${idx}"]:checked`);
            const fb = document.getElementById(`fbA${idx}`);
            fb.className = 'feedback';
            if(selected) {
                if(parseInt(selected.value) === item.ans) {
                    score++;
                    fb.classList.add('correct');
                    fb.innerHTML = "Ch√≠nh x√°c!";
                } else {
                    fb.classList.add('wrong');
                    fb.innerHTML = `Sai r·ªìi. ƒê√°p √°n ƒë√∫ng: ${String.fromCharCode(65+item.ans)}. ${item.opts[item.ans]}`;
                }
            } else {
                fb.classList.add('wrong');
                fb.innerHTML = "Ch∆∞a ch·ªçn ƒë√°p √°n.";
            }
        });
        document.getElementById('scoreA').style.display = 'block';
        document.getElementById('scoreA').innerText = `K·∫øt qu·∫£: ${score} / ${dataA.length}`;
    }

    // RENDER B
    function renderPartB() {
        const container = document.getElementById('questionsB');
        let html = '';
        dataB.forEach((item, idx) => {
            html += `
                <div class="question-card">
                    <div class="q-title">C√¢u ${idx+1}: ${item.q}</div>
                    <div class="options">
                        <label class="option-label"><input type="radio" name="qB${idx}" value="ƒê√∫ng"> ƒê√∫ng</label>
                        <label class="option-label"><input type="radio" name="qB${idx}" value="Sai"> Sai</label>
                    </div>
                    <div id="fbB${idx}" class="feedback"></div>
                </div>
            `;
        });
        container.innerHTML = html;
    }

    function submitPartB() {
        let score = 0;
        dataB.forEach((item, idx) => {
            const selected = document.querySelector(`input[name="qB${idx}"]:checked`);
            const fb = document.getElementById(`fbB${idx}`);
            fb.className = 'feedback';
            if(selected) {
                if(selected.value === item.ans) {
                    score++;
                    fb.classList.add('correct');
                    fb.innerHTML = "Ch√≠nh x√°c!";
                } else {
                    fb.classList.add('wrong');
                    fb.innerHTML = `Sai. ƒê√°p √°n ƒë√∫ng l√†: ${item.ans}`;
                }
            } else {
                fb.classList.add('wrong');
                fb.innerHTML = "Ch∆∞a ch·ªçn ƒë√°p √°n.";
            }
        });
        document.getElementById('scoreB').style.display = 'block';
        document.getElementById('scoreB').innerText = `K·∫øt qu·∫£: ${score} / ${dataB.length}`;
    }

    // RENDER C
    function renderPartC() {
        renderMatchTable(dataC1, 'matching1', 'm1');
        renderMatchTable(dataC2, 'matching2', 'm2');
    }

    function renderMatchTable(data, containerId, prefix) {
        const container = document.getElementById(containerId);
        // Shuffle right side options for display logic
        let rightOpts = [...data].sort(() => Math.random() - 0.5); 
        // Create Select Options
        let optsHtml = '<option value="">--Ch·ªçn--</option>';
        rightOpts.forEach(item => {
            optsHtml += `<option value="${item.id}">${item.right}</option>`;
        });

        let html = '';
        data.forEach((item, idx) => {
            html += `
                <div class="match-row">
                    <div style="font-weight:600">${item.left}</div>
                    <div style="text-align:center">üëâ</div>
                    <div>
                        <select id="${prefix}_${idx}" style="width:100%; padding:8px; border-radius:4px; border:1px solid #ccc">
                            ${optsHtml}
                        </select>
                    </div>
                </div>
                <div id="fb_${prefix}_${idx}" class="feedback" style="margin-bottom:10px"></div>
            `;
        });
        container.innerHTML = html;
    }

    function submitPartC() {
        let score = 0;
        let checkMatch = (data, prefix) => {
            data.forEach((item, idx) => {
                const val = document.getElementById(`${prefix}_${idx}`).value;
                const fb = document.getElementById(`fb_${prefix}_${idx}`);
                fb.className = 'feedback';
                if(val === item.id) {
                    score++;
                    fb.classList.add('correct');
                    fb.innerHTML = "Gh√©p ƒë√∫ng!";
                } else {
                    fb.classList.add('wrong');
                    fb.innerHTML = `Sai. Gh√©p ƒë√∫ng l√†: ${item.right}`;
                }
            });
        };
        checkMatch(dataC1, 'm1');
        checkMatch(dataC2, 'm2');
        
        const total = dataC1.length + dataC2.length;
        document.getElementById('scoreC').style.display = 'block';
        document.getElementById('scoreC').innerText = `K·∫øt qu·∫£: ${score} / ${total}`;
    }

    // RENDER D
    function renderPartD() {
        const container = document.getElementById('questionsD');
        let html = '';
        dataD.forEach((item, idx) => {
            html += `
                <div class="question-card fill-blank-line">
                    ${item.pre} 
                    <input type="text" class="blank-input" id="qD${idx}" placeholder="..."> 
                    ${item.post}
                    <div id="fbD${idx}" class="feedback"></div>
                </div>
            `;
        });
        container.innerHTML = html;
    }

    function submitPartD() {
        let score = 0;
        dataD.forEach((item, idx) => {
            const val = document.getElementById(`qD${idx}`).value.trim().toLowerCase();
            const fb = document.getElementById(`fbD${idx}`);
            fb.className = 'feedback';
            if(val === item.ans) {
                score++;
                fb.classList.add('correct');
                fb.innerHTML = "Ch√≠nh x√°c!";
            } else {
                fb.classList.add('wrong');
                fb.innerHTML = `Sai. ƒê√°p √°n: ${item.ans}`;
            }
        });
        document.getElementById('scoreD').style.display = 'block';
        document.getElementById('scoreD').innerText = `K·∫øt qu·∫£: ${score} / ${dataD.length}`;
    }

</script>

</body>
</html>